# Story 1.4: learning-center-ui

## Status
Approved

## Story
**As a** teacher who needs to complete mandatory training,
**I want** to navigate through courses and lessons in an intuitive learning interface,
**so that** I can efficiently complete my training and unlock access to AI tools

## Acceptance Criteria
1. Обучающий центр реализован как двухуровневый интерфейс согласно front-end-spec
2. Состояние 1: сетка из карточек курсов стандартного размера отображается
3. Единственный курс располагается по центру (для MVP с одним курсом)
4. При нажатии на курс рабочая область меняется на сетку карточек уроков
5. Кнопка "Назад" появляется в режиме просмотра уроков
6. При нажатии на урок область меняется на плеер/текст с кнопкой "Пройти тест"
7. Интерфейс теста загружается при нажатии "Пройти тест"
8. После прохождения теста показывается результат с кнопкой "К списку уроков"
9. Прогресс пользователя отслеживается и сохраняется в UserCourseProgress
10. Завершенные уроки визуально отмечены как completed
11. Навигация происходит в одной рабочей области без перезагрузки страницы
12. Интерфейс адаптирован для целевой аудитории "учитель-скептик"

## Tasks / Subtasks
- [ ] Создание основной структуры обучающего центра (AC: 1, 11)
  - [ ] Реализовать двухуровневый интерфейс
  - [ ] Настроить SPA navigation без перезагрузки
  - [ ] Создать layout для рабочей области

- [ ] Интерфейс списка курсов (AC: 2, 3)
  - [ ] Создать сетку карточек курсов
  - [ ] Реализовать центрирование для одного курса
  - [ ] Добавить hover эффекты для карточек

- [ ] Интерфейс списка уроков (AC: 4, 5, 10)
  - [ ] Создать сетку карточек уроков
  - [ ] Добавить кнопку "Назад"
  - [ ] Реализовать визуальные индикаторы прогресса
  - [ ] Показать completed статус для завершенных уроков

- [ ] Интерфейс просмотра урока (AC: 6)
  - [ ] Создать компонент плеера/текста урока
  - [ ] Добавить кнопку "Пройти тест"
  - [ ] Реализовать отображение контента урока

- [ ] Интерфейс тестирования (AC: 7, 8)
  - [ ] Создать компонент интерфейса теста
  - [ ] Реализовать обработку ответов
  - [ ] Создать экран результатов теста
  - [ ] Добавить кнопку "К списку уроков"

- [ ] Система прогресса (AC: 9, 10)
  - [ ] Интегрировать с UserCourseProgress model
  - [ ] Реализовать сохранение прогресса урока
  - [ ] Добавить обновление статуса завершения
  - [ ] Создать queries для отслеживания прогресса

- [ ] UX оптимизация для целевой аудитории (AC: 12)
  - [ ] Упростить язык интерфейса
  - [ ] Добавить поддерживающие элементы UI
  - [ ] Реализовать clear navigation cues
  - [ ] Протестировать с фокус-группой учителей

## Dev Notes

### Архитектурный контекст
- **Navigation:** SPA с React Router для seamless transitions
- **State Management:** Zustand для course progress, React Query для lesson data
- **UI Components:** Radix UI cards, buttons и navigation компоненты
- **Progress Tracking:** Real-time updates в UserCourseProgress table

### UI/UX Requirements из front-end-spec.md

#### Обучающий центр (Сценарий 1, п.4):
- **Компоновка:** Двухуровневый интерфейс в одной рабочей области
- **Состояние 1:** Сетка карточек курсов, единственный курс по центру
- **Состояние 2:** Сетка карточек уроков + кнопка "Назад"  
- **Состояние 3:** Плеер/текст урока + кнопка "Пройти тест"
- **Состояние 4:** Интерфейс теста
- **Состояние 5:** Результат теста + кнопка "К списку уроков"

### Database Integration
Models для работы:
- `Course` - информация о курсе
- `CourseLesson` - уроки курса
- `UserCourseProgress` - прогресс пользователя
- Potential: `Test`, `TestResult` (если добавим тестирование)

### Technical Implementation
#### Progress Tracking:
```javascript
// Структура прогресса
const courseProgress = {
  userId: string,
  courseId: string,
  completedLessons: string[],
  currentLesson: string,
  completedAt: Date | null
};
```

#### Navigation States:
- `/learning` - список курсов
- `/learning/course/:id` - список уроков
- `/learning/course/:id/lesson/:lessonId` - просмотр урока
- `/learning/course/:id/lesson/:lessonId/test` - тест

### Dependencies
- `@radix-ui/react-navigation-menu` - navigation
- `react-router-dom` - client-side routing
- Custom hooks для progress management

### Accessibility & UX
- Keyboard navigation между карточками
- Screen reader support для progress indicators
- Clear visual hierarchy для "учителя-скептика"
- Loading states для всех transitions

### Testing

#### Test Coverage Requirements
- Navigation flow: 95% (critical user path)
- Progress tracking: 100% (data integrity)
- UI components: 90%

#### Key Test Scenarios
- Course → Lesson → Test → Results flow
- Progress persistence across sessions
- Navigation state management
- Mobile responsiveness

#### E2E Test Example:
```javascript
test('Complete lesson and test flow', async ({ page }) => {
  // 1. Navigate to learning center
  // 2. Click on course card
  // 3. Select lesson
  // 4. Complete lesson content
  // 5. Take test
  // 6. Verify progress is saved
  // 7. Return to lesson list
});
```

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-07-25 | 1.0 | Initial story creation for learning center UI | Sarah (PO) |

## Dev Agent Record
_(This section is populated by the development agent during implementation)_

### Agent Model Used
_(Заполняется dev-agent)_

### Debug Log References
_(Заполняется dev-agent)_

### Completion Notes List
_(Заполняется dev-agent)_

### File List
_(Заполняется dev-agent)_

## QA Results
_(Results from QA Agent QA review of the completed story implementation)_